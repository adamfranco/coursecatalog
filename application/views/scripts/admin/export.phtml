<?php
	$this->headLink(array('rel' => 'stylesheet', 'href' => $this->baseUrl('/StyleSheets/midd/Export.css'), 'media' => 'all'));
?>

<h1>Manage Export Configuration</h1>
<div><a href="<?php print $this->url(array('action' => 'index')); ?>">&laquo; Back to Administration</a></div>

<form action="<?php print $this->url(); ?>" method="get">
	<select name='config' onchange="this.form.submit();">
		<option value="select">Select a configuration</option>
<?php
foreach ($this->configs as $config) {
	print "<option value='".$config['label']."'".(($config == $this->config)?' selected="selected"':'').">".$config['label']."</option>";
}
?>
	</select>
</form>

<?php
	if($this->latestRevision) {
		print "<ul class='sections-list'>";
		foreach($this->latestRevisionJsonData as $key => $section) {
			$typeSelect =
			"<select name=''" . $key . "-selector'>
				<option value='h1'" . (($section['type'] == 'h1')?' selected="selected"':'') . ">H1</option>
				<option value='h2'" . (($section['type'] == 'h2')?' selected="selected"':'') . ">H2</option>
				<option value='page_content'" . (($section['type'] == 'page_content')?' selected="selected"':'') . ">Page Content</option>
				<option value='custom_text'" . (($section['type'] == 'custom_text')?' selected="selected"':'') . ">Custom Text</option>
				<option value='course_list'" . (($section['type'] == 'course_list')?' selected="selected"':'') . ">Course List</option>
			</select>";
			print "<li><span class='section-type'>Type: " . $typeSelect . "</span><span class='section-value'>Value: " . $this->generateSectionInput($section['type'], $section['value']) . "</li>";
		}
		print "</ul>";
	}
?>
